<%= render "shared/toast", toast: flash[:toast] %>
<h2 class="text-2xl font-semibold mb-4">Basic Information</h2>
<div>
  <strong>Name: </strong>
  <span><%= @school_class.name %></span>
</div>
<div>
  <strong>Description: </strong>
  <br>
  <p><%= @school_class.description %></p>
</div>
<br>
<h2 class="text-2xl font-semibold mb-4">Timestamps</h2>
<div>
  <strong>Created At: </strong>
  <span><%= format_date @school_class.created_at %></span>
</div>
<div>
  <strong>Updated At: </strong>
  <span><%= format_date @school_class.updated_at %></span>
</div>
<br>
<h2 class="text-2xl font-semibold mb-4">Students List</h2>
<div>
  <div class="flex justify-between items-center">
    <%= form_with url: '/custom_submit', method: :post, local: true do |form| %>
      <div class="flex gap-10">
        <div class="field">
          <%= form.label :school_year %>
          <%= form.select :school_year, options_from_collection_for_select(@sy, :id, :name), {}, class: "select select-bordered" %>
        </div>
        <div class="field">
          <%= form.label :section %>
          <%= form.select :section, ["A"], {}, class: "select select-bordered" %>
        </div>
      </div>
    <% end %>
    <div class="join">
      <%= link_to "Manage SY", admin_classes_class_sy_manage_index_path(@school_class), class: "btn join-item" %>
      <button class="btn join-item">Manage Sections</button>
      <button class="btn join-item">Assign Student</button>
    </div>
  </div>
  <br>
  <section>
    <div class="overflow-x-auto">
      <table class="table table-sm mb-6">
        <!-- head -->
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Created At</th>
            <th>Updated At</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <!-- row 1 -->
          <% if @items.present? %>
            <% @items.each do | school_class | %>
              <tr class="hover">
                <td>
                  <div class="flex items-center gap-3">
                    <span><%= school_class.name %></span>
                  </div>
                </td>
                <td>
                  <span><%= format_date school_class.created_at %></span>
                </td>
                <td>
                  <span><%= format_date school_class.updated_at %></span>
                </td>
                <td class="flex">
                  <%= link_to admin_classes_manage_path(school_class), class: "btn btn-ghost btn-sm" do %>
                    <%= fa_icon "eye lg" %>
                  <% end %>
                  <%= link_to edit_admin_classes_manage_path(school_class), class: "btn btn-ghost btn-sm" do %>
                    <%= fa_icon "pencil lg" %>
                  <% end %>
                  <%= button_to admin_classes_manage_path(school_class), method: :delete, form: { data: { 'turbo-confirm': 'Are you sure you want to delete this account?', btn_class: "btn-error" } }, class: "btn btn-ghost btn-sm" do %>
                    <%= fa_icon "trash lg" %>
                  <% end %>
                </td>
              </tr>
            <% end %>
          <% end %>
        </tbody>
      </table>
      <div class="flex justify-between items-center">
        <span><%= @count %> Classes</span>
      </div>
    </div>
  </section>
</div>
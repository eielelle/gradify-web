<%= render "shared/toast", toast: alert || flash[:alert] %>

<section class="h-screen w-screen p-6 flex justify-center items-center">
  <div class="card w-full max-w-xs sm:max-w-sm md:max-w-sm p-6 bg-base-300">
    <h1 class="text-center text-2xl sm:text-3xl md:text-4xl font-bold mb-6 sm:mb-8 md:mb-10">Admin Login</h1>
    <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
      <label class="input input-lg input-bordered flex items-center gap-2 mb-4">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4 opacity-70"><path d="M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z" /><path d="M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z" /></svg>
        <%= f.email_field :email, autocomplete: "email", placeholder: :email, class: "flex-grow border-none focus:border-none focus:border-0 focus:outline-none" %>
      </label>
      <label class="input input-lg input-bordered flex items-center gap-2 mb-4">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4 opacity-70"><path fill-rule="evenodd" d="M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z" clip-rule="evenodd" /></svg>
        <%= f.password_field :password, autocomplete: "current-password", placeholder: :password, class: "flex-grow border-none focus:border-none focus:border-0 focus:outline-none pr-10", id: "password-field" %>
        <button type="button" onclick="togglePasswordVisibility()" class="absolute right-6 p-2">
          <svg id="password-eye" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
            <path fill-rule="evenodd" d="M12 4.5c-7.008 0-10.5 6.25-10.5 7.5s3.492 7.5 10.5 7.5 10.5-6.25 10.5-7.5-3.492-7.5-10.5-7.5Zm0 12.5c-3.028 0-5.5-2.015-5.5-5s2.472-5 5.5-5 5.5 2.015 5.5 5-2.472 5-5.5 5Zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 0.5a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Z" clip-rule="evenodd" />
          </svg>
        </button>
      </label>

      <% if devise_mapping.rememberable? %>
        <div class="field">
          <%= f.check_box :remember_me %>
          <%= f.label :remember_me %>
        </div>
      <% end %>
      <div class="actions">
        <%= f.submit "Sign in", class: "btn btn-lg btn-primary w-full mb-4" %>
      </div>
    <% end %>
  </div>
</section>

<script>
  function togglePasswordVisibility() {
    const passwordField = document.getElementById("password-field");
    const passwordEye = document.getElementById("password-eye");

    if (passwordField.type === "password") {
      passwordField.type = "text";
      passwordEye.innerHTML = `
      <path fill-rule="evenodd" d="M2.7 1.4L1.3 2.8l1.4 1.4A10.45 10.45 0 0 0 0 7.5c0 1.25 3.492 7.5 10.5 7.5 1.75 0 3.383-.46 4.796-1.206l1.366 1.366 1.4-1.4-18-18ZM10.5 12c-2.5 0-4.5-2.015-4.5-5 0-.453.061-.895.174-1.316l1.576 1.575A2.5 2.5 0 0 0 10.5 9c.628 0 1.206-.235 1.646-.618l1.579 1.58A4.5 4.5 0 0 1 10.5 12Zm1.693-3.739l2.638 2.639A10.433 10.433 0 0 0 21 7.5c0-1.25-3.492-7.5-10.5-7.5a10.451 10.451 0 0 0-5.56 1.621l1.746 1.746A3.5 3.5 0 0 1 10.5 2c3 0 5.5 2.015 5.5 5 0 1.025-.28 1.983-.797 2.76l-2.51-2.51Z" clip-rule="evenodd" />
    `;
    } else {
      passwordField.type = "password";
      passwordEye.innerHTML = `
      <path fill-rule="evenodd" d="M12 4.5c-7.008 0-10.5 6.25-10.5 7.5s3.492 7.5 10.5 7.5 10.5-6.25 10.5-7.5-3.492-7.5-10.5-7.5Zm0 12.5c-3.028 0-5.5-2.015-5.5-5s2.472-5 5.5-5 5.5 2.015 5.5 5-2.472 5-5.5 5Zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 0.5a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Z" clip-rule="evenodd" />
    `;
    }
  }
</script>

